<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dice & Card Game Center</title>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@600&family=Luckiest+Guy&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      font-family: 'Fredoka', sans-serif;
      text-align: center;
      background: linear-gradient(270deg, #6a5acd, #20b2aa, #ff69b4, #00ced1);
      background-size: 1200% 1200%;
      animation: colorShift 30s ease infinite;
      margin: 0;
      padding: 40px;
      color: #fff;
    }
    h1 {
      font-family: 'Luckiest Guy', cursive;
      font-size: 2.5rem;
      margin-bottom: 10px;
    }
    .toggle-buttons {
      margin-bottom: 30px;
    }
    .toggle-buttons button {
      font-family: 'Luckiest Guy', cursive;
      font-size: 1.2rem;
      margin: 0 10px;
      padding: 10px 20px;
      border: none;
      border-radius: 12px;
      background: #fff;
      color: #333;
      cursor: pointer;
      transition: 0.3s;
    }
    .toggle-buttons button:hover {
      background: #333;
      color: #fff;
    }
    .toggle-buttons button.active {
      background: #333;
      color: #fff;
      box-shadow: 0 0 10px #fff;
    }
    .dice-section, .card-section {
      display: none;
      margin-top: 20px;
    }

    /* Dice Game Styles */
    .dice-container {
      display: flex;
      justify-content: center;
      gap: 25px;
      margin: 30px 0;
    }
    .die {
      width: 100px;
      height: 100px;
      background-color: #444;
      border-radius: 20px;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.4);
      user-select: none;
    }
    button.roll-btn {
      font-size: 1rem;
      padding: 10px 20px;
      margin-top: 10px;
      border: none;
      border-radius: 10px;
      background-color: #fff;
      color: #333;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
      user-select: none;
    }
    .color-note {
      font-family: 'Luckiest Guy', cursive;
      font-size: 1rem;
      transform: rotate(-2deg);
      animation: wiggle 4s infinite;
      margin-top: 20px;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
      user-select: none;
    }
    @keyframes wiggle {
      0%, 100% { transform: rotate(-2deg); }
      50% { transform: rotate(2deg); }
    }

    /* Card Game Styles */
    .card-container {
      max-width: 350px;
      margin: 0 auto;
      background: rgba(255 255 255 / 0.15);
      border-radius: 25px;
      padding: 30px 20px;
      box-shadow: 0 0 20px rgba(255 255 255 / 0.4);
      color: #ffeb3b;
      font-family: 'Luckiest Guy', cursive;
    }
    .cards-row {
      display: flex;
      justify-content: center;
      gap: 80px;
      margin-bottom: 25px;
    }
    .player, .opponent {
      background: #ff9800cc;
      border-radius: 20px;
      padding: 20px;
      width: 140px;
      box-shadow: 0 0 20px #ff9800aa;
      user-select: none;
    }
    .label {
      font-weight: 700;
      margin-bottom: 12px;
      font-size: 1.4em;
      color: #fff3e0;
    }
    .card {
      font-size: 110px;
      user-select: none;
      border: 5px solid #ffd54f;
      border-radius: 20px;
      background: linear-gradient(145deg, #ffecb3, #ffd54f);
      color: #5d4037;
      width: 130px;
      height: 180px;
      line-height: 180px;
      margin: 0 auto;
      box-shadow: inset 0 0 20px #fbc02d;
    }
    button.draw-btn {
      font-family: 'Luckiest Guy', cursive;
      font-size: 22px;
      padding: 14px 40px;
      border: none;
      border-radius: 15px;
      cursor: pointer;
      background: #ffd54f;
      color: #5d4037;
      box-shadow: 0 5px 0 #c49000;
      transition: background 0.3s ease;
      user-select: none;
    }
    button.draw-btn:hover {
      background: #c49000;
      color: #fff;
    }
    .result {
      font-size: 28px;
      margin-top: 20px;
      font-weight: 700;
      color: #ffeb3b;
      text-shadow: 1px 1px 4px #5d4037;
      height: 36px;
    }

    @keyframes colorShift {
      0%   { background-position: 0% 50%; }
      50%  { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    @keyframes rollAnim {
      0%   { transform: rotate(0deg) scale(1); }
      25%  { transform: rotate(180deg) scale(1.1); }
      50%  { transform: rotate(360deg) scale(1); }
      75%  { transform: rotate(540deg) scale(1.1); }
      100% { transform: rotate(720deg) scale(1); }
    }
  </style>
</head>
<body>
  <h1>üéÆ Game Center</h1>
  <div class="toggle-buttons">
    <button id="btnDice" class="active">üé≤ Play Dice</button>
    <button id="btnCard">üÉè Play Card</button>
  </div>

  <!-- Dice Section -->
  <div class="dice-section" id="diceSection" style="display: block;">
    <h2>üé≤ Dice Game</h2>
    <div class="dice-container">
      <div class="die" id="die1">?</div>
      <div class="die" id="die2">?</div>
      <div class="die" id="die3">?</div>
    </div>
    <button class="roll-btn" onclick="revealDice()">üé≤ Roll / Reset</button>
    <p class="color-note">Colors: RED, BLUE, WHITE, GREEN, YELLOW, PINK</p>
  </div>

  <!-- Card Section -->
  <div class="card-section" id="cardSection">
    <h2>üÉè 1v1 Card Showdown</h2>
    <div class="card-container">
      <div class="cards-row">
        <div class="player">
          <div class="label">You</div>
          <div class="card" id="playerCard">?</div>
        </div>
        <div class="opponent">
          <div class="label">Opponent</div>
          <div class="card" id="opponentCard">?</div>
        </div>
      </div>
      <button class="draw-btn" id="drawBtn">Draw Cards</button>
      <div class="result" id="resultText"></div>
    </div>
  </div>

  <script>
    /* --- Toggle Sections --- */
    const btnDice = document.getElementById('btnDice');
    const btnCard = document.getElementById('btnCard');
    const diceSection = document.getElementById('diceSection');
    const cardSection = document.getElementById('cardSection');

    btnDice.addEventListener('click', () => {
      diceSection.style.display = 'block';
      cardSection.style.display = 'none';
      btnDice.classList.add('active');
      btnCard.classList.remove('active');
    });

    btnCard.addEventListener('click', () => {
      diceSection.style.display = 'none';
      cardSection.style.display = 'block';
      btnCard.classList.add('active');
      btnDice.classList.remove('active');
    });

    /* --- Dice Game Logic --- */
    const colorMap = { A: 'RED', B: 'BLUE', C: 'WHITE', D: 'GREEN', E: 'YELLOW', F: 'PINK' };
    const pressedKeys = [];
    const diceIds = ['die1', 'die2', 'die3'];

    function revealDice() {
      diceIds.forEach((id, i) => {
        const die = document.getElementById(id);
        die.textContent = '?';
        die.style.backgroundColor = '#555';
        die.style.animation = 'rollAnim 1s ease';
      });
      setTimeout(() => {
        diceIds.forEach((id, i) => {
          const key = pressedKeys[i];
          const color = colorMap[key] || '?';
          const die = document.getElementById(id);
          die.textContent = color;
          die.style.backgroundColor = color.toLowerCase();
          die.style.animation = '';
        });
        pressedKeys.length = 0;
      }, 700);
    }

    document.addEventListener('keydown', (event) => {
      const key = event.key.toUpperCase();
      if (colorMap[key] && pressedKeys.length < 3) pressedKeys.push(key);
    });

    /* --- Card Game Logic --- */
    // Cards: A(14),2(2),3(3),...10(10),J(11),Q(12),K(13)
    const cards = [
      {rank: 14, display: 'A'}, 
      {rank: 2, display: '2'},
      {rank: 3, display: '3'},
      {rank: 4, display: '4'},
      {rank: 5, display: '5'},
      {rank: 6, display: '6'},
      {rank: 7, display: '7'},
      {rank: 8, display: '8'},
      {rank: 9, display: '9'},
      {rank: 10, display: '10'},
      {rank: 11, display: 'J'},
      {rank: 12, display: 'Q'},
      {rank: 13, display: 'K'},
    ];

    const playerCardDiv = document.getElementById('playerCard');
    const opponentCardDiv = document.getElementById('opponentCard');
    const drawBtn = document.getElementById('drawBtn');
    const resultText = document.getElementById('resultText');

    // Modes: 1 = win, 2 = lose, 3 = draw, 0 = random
    let mode = 0;

    function getRandomCard() {
      return cards[Math.floor(Math.random() * cards.length)];
    }

    function findCardByRank(rank) {
      return cards.find(c => c.rank === rank);
    }

    function compareRanks(a, b) {
      if (a.rank > b.rank) return 1;
      else if (a.rank < b.rank) return -1;
      return 0;
    }

    function pickCards(mode) {
      let playerCard, opponentCard;

      if (mode === 1) {
        opponentCard = getRandomCard();
        let possibleWins = cards.filter(c => c.rank > opponentCard.rank);
        if (possibleWins.length === 0) return pickCards(3);
        playerCard = possibleWins[Math.floor(Math.random() * possibleWins.length)];
      } else if (mode === 2) {
        playerCard = getRandomCard();
        let possibleLosses = cards.filter(c => c.rank > playerCard.rank);
        if (possibleLosses.length === 0) return pickCards(3);
        opponentCard = possibleLosses[Math.floor(Math.random() * possibleLosses.length)];
      } else if (mode === 3) {
        playerCard = getRandomCard();
        opponentCard = findCardByRank(playerCard.rank);
      } else {
        playerCard = getRandomCard();
        opponentCard = getRandomCard();
      }

      return {playerCard, opponentCard};
    }

    function cardDisplayText(card) {
      return card.display;
    }

    function updateResultText(playerCard, opponentCard) {
      const cmp = compareRanks(playerCard, opponentCard);
      if (cmp > 0) {
        resultText.textContent = 'You Win! üéâ';
        resultText.style.color = '#28a745';
      } else if (cmp < 0) {
        resultText.textContent = 'You Lose! üòû';
        resultText.style.color = '#dc3545';
      } else {
        resultText.textContent = "It's a Draw! ü§ù";
        resultText.style.color = '#ffc107';
      }
    }

    drawBtn.addEventListener('click', () => {
      const {playerCard, opponentCard} = pickCards(mode);
      playerCardDiv.textContent = cardDisplayText(playerCard);
      opponentCardDiv.textContent = cardDisplayText(opponentCard);
      updateResultText(playerCard, opponentCard);
    });

    window.addEventListener('keydown', (e) => {
      // Only react if card game is visible
      if (cardSection.style.display === 'block') {
        if (e.key === '1') {
          mode = 1;
        } else if (e.key === '2') {
          mode = 2;
        } else if (e.key === '3') {
          mode = 3;
        } else if (e.key === '0') {
          mode = 0;
        }
      }
    });
  </script>
</body>
</html>
